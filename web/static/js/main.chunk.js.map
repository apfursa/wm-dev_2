{"version":3,"sources":["components/Greetings/styles.jsx","assets/img/logo.png","components/Greetings/index.jsx","pages/Main/styles.jsx","app/api/storeApi.js","app/store/menu/api.js","pages/Main/index.jsx","App.jsx","globalStyles.jsx","app/store/index.js","index.js"],"names":["GreetingsWrap","styled","div","Logo","img","Greetings","src","logo","MainWrap","baseQuery","fetchBaseQuery","baseUrl","window","location","hostname","prepareHeaders","headers","set","_ACCESS_TOKEN_","menuApi","createApi","reducerPath","tagTypes","endpoints","build","getTabs","query","menuId","url","setTabs","mutation","tabs","method","body","useGetTabsQuery","useSetTabsMutation","Main","data","isSuccess","isLoading","tabsMut","setTab","tab","console","log","tabsMutation","map","id","visible","order","App","path","_PARAMS_","placementOptions","error","Global","createGlobalStyle","rootReducer","combineReducers","reducer","store","configureStore","middleware","getDefaultMiddleware","concat","app","ReactDOM","render","document","getElementById"],"mappings":"4LAEaA,EAAgBC,IAAOC,IAAV,2IAQbC,EAAOF,IAAOG,IAAV,6CCVF,MAA0B,wB,OCY1BC,EARG,WAChB,OACE,cAACL,EAAD,UACE,cAACG,EAAD,CAAMG,IAAKC,OCLJC,EAAWP,IAAOC,IAAV,2F,eCSNO,EATGC,YAAe,CAC/BC,QAAQ,WAAD,OAAaC,OAAOC,SAASC,UACpCC,eAAgB,SAACC,GAGf,OAFAA,EAAQC,IAAI,eAAgB,oBAC5BD,EAAQC,IAAI,gBAAZ,iBAAuCL,OAAOM,iBACvCF,KCJEG,EAAUC,YAAU,CAC/BC,YAAa,OACbC,SAAU,CAAC,QACXb,YACAc,UAAW,SAACC,GAAD,MAAY,CACrBC,QAASD,EAAME,MAAM,CACnBA,MAAO,SAACC,GAAD,MAAa,CAACC,IAAI,wCAAD,OAA0CD,OAEpEE,QAASL,EAAMM,SAAS,CACtBJ,MAAO,SAACK,GAAD,MAAW,CAChBH,IAAK,uDACLI,OAAQ,OACRC,KAAMF,UAOZG,EAEEf,EAFFe,gBACAC,EACEhB,EADFgB,mBCcaC,EA9BF,WACX,MAAqCF,EAAgB,KAA9CG,EAAP,EAAOA,KAAMC,EAAb,EAAaA,UAAWC,EAAxB,EAAwBA,UAExB,EAAkBJ,IAAXK,EAAP,oBAcA,OAAIF,IAAcC,EAEd,eAAC/B,EAAD,WACE,cAAC,IAAD,CAAUuB,KAAMM,EAAMI,OAhBb,SAACC,GACdC,QAAQC,IAAIF,IAe8BG,aAbvB,SAACd,GACpBS,EACET,EAAKe,KAAI,SAACJ,GAAD,MAAU,CACjBK,GAAIL,EAAIK,GACRC,QAASN,EAAIM,QACbC,MAAOP,EAAIO,cASX,cAAC,EAAD,OAKC,cAAC,IAAD,KCDMC,I,EAAAA,EA7Bf,WACE,IAAoBC,EAWlB,IACE,OAZgBA,EAYEvC,OAAOwC,SAASC,iBAAiBF,KAXrDR,QAAQC,IAAIO,GAKD,cAAC,EAAD,IAOT,MAAOG,IAYX,OAAO,cAAC,EAAD,KCpBMC,EAPAC,YAAH,yE,6BCCNC,EAAcC,YAAgB,eACjCvC,EAAQE,YAAcF,EAAQwC,UAGpBC,EAAQC,YAAe,CAClCF,QAASF,EACTK,WAAY,SAACC,GAAD,OACVA,IAAuBC,OAAO7C,EAAQ2C,eCJpCG,EACJ,eAAC,IAAD,CAAUL,MAAOA,EAAjB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAIJM,IAASC,OAAOF,EAAKG,SAASC,eAAe,W","file":"static/js/main.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const GreetingsWrap = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  background: #eef2f4;\r\n`\r\n\r\nexport const Logo = styled.img`\r\n  width: 256px;\r\n`","export default __webpack_public_path__ + \"static/media/logo.png\";","import React from \"react\";\r\nimport { GreetingsWrap, Logo } from \"./styles\";\r\nimport logo from '../../assets/img/logo.png'\r\n\r\nconst Greetings = () => {\r\n  return (\r\n    <GreetingsWrap>\r\n      <Logo src={logo} />\r\n    </GreetingsWrap>\r\n  )\r\n}\r\n\r\nexport default Greetings","import styled from \"styled-components\";\r\n\r\nexport const MainWrap = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`","import { fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nconst baseQuery = fetchBaseQuery({\r\n  baseUrl: `https://${window.location.hostname}`,\r\n  prepareHeaders: (headers) => {\r\n    headers.set(\"content-type\", \"application/json\");\r\n    headers.set(\"authorization\", `Bearer ${window._ACCESS_TOKEN_}`);\r\n    return headers;\r\n  },\r\n})\r\n\r\nexport default baseQuery","import { createApi } from \"@reduxjs/toolkit/query/react\";\r\nimport baseQuery from \"../../api/storeApi\";\r\n\r\nexport const menuApi = createApi({\r\n  reducerPath: \"menu\",\r\n  tagTypes: [\"Tabs\"],\r\n  baseQuery,\r\n  endpoints: (build) => ({\r\n    getTabs: build.query({\r\n      query: (menuId) => ({url: `admin/ui/menu/menu-item/items?menuId=${menuId}`})\r\n    }),\r\n    setTabs: build.mutation({\r\n      query: (tabs) => ({\r\n        url: 'admin/ui/menu/menu-item-personal-settings/save-items',\r\n        method: \"POST\",\r\n        body: tabs\r\n      })\r\n    })\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetTabsQuery,\r\n  useSetTabsMutation,\r\n} = menuApi;","import React from \"react\";\r\nimport MainMenu from \"@webmens-ru/main-menu\";\r\nimport Loading from \"@webmens-ru/loader\";\r\nimport Greetings from \"../../components/Greetings\";\r\nimport { MainWrap } from \"./styles\";\r\nimport { useGetTabsQuery, useSetTabsMutation } from \"../../app/store/menu/api\";\r\n\r\nconst Main = () => {\r\n  const {data, isSuccess, isLoading} = useGetTabsQuery(\"1\");\r\n\r\n  const [tabsMut] = useSetTabsMutation();\r\n  const setTab = (tab) => {\r\n    console.log(tab);\r\n  };\r\n  const tabsMutation = (tabs) => {\r\n    tabsMut(\r\n      tabs.map((tab) => ({\r\n        id: tab.id,\r\n        visible: tab.visible,\r\n        order: tab.order,\r\n      })),\r\n    );\r\n  };\r\n\r\n  if (isSuccess && !isLoading) {\r\n    return (\r\n      <MainWrap>\r\n        <MainMenu tabs={data} setTab={setTab} tabsMutation={tabsMutation} />\r\n        <Greetings />\r\n      </MainWrap>\r\n    )\r\n  }\r\n\r\n  return <Loading />\r\n\r\n}\r\n\r\nexport default Main","import React from \"react\";\r\nimport Main from \"./pages/Main/index.jsx\"\r\n\r\nfunction App() {\r\n  const switchPath = (path) => {\r\n    console.log(path)\r\n    switch (path) {\r\n      case \"main\":\r\n        return <Main />;\r\n      default:\r\n        return <Main />;\r\n    }\r\n  };\r\n\r\n  if (process.env.NODE_ENV === \"production\") {\r\n    try {\r\n      return switchPath(window._PARAMS_.placementOptions.path);\r\n    } catch (error) {}\r\n  } else {\r\n    const pathArr = window.location.pathname.replace(\"/\", \"\").split(\"=\");\r\n    const pathObj = {};\r\n    for (let i = 0; i < pathArr.length; i += 2) {\r\n      pathObj[pathArr[i]] = pathArr[i + 1];\r\n    }\r\n    if (pathObj.hasOwnProperty(\"path\")) {\r\n      return switchPath(pathObj.path);\r\n    }\r\n  }\r\n\r\n  return <Main />;\r\n}\r\n\r\nexport default App;","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst Global = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nexport default Global","import { combineReducers, configureStore } from '@reduxjs/toolkit'\r\nimport { menuApi } from './menu/api'\r\n\r\nconst rootReducer = combineReducers({\r\n  [menuApi.reducerPath]: menuApi.reducer\r\n})\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) => \r\n    getDefaultMiddleware().concat(menuApi.middleware)\r\n})","import ReactDOM from 'react-dom';\nimport App from './App';\nimport GlobalStyles from './globalStyles';\nimport { Provider } from 'react-redux';\nimport { store } from './app/store/index';\n\nconst app = (\n  <Provider store={store} >\n    <GlobalStyles />\n    <App />\n  </Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'))"],"sourceRoot":""}